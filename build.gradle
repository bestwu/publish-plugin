plugins {
    id 'groovy'
    id 'cn.bestwu.plugin-publish' version '0.0.1'
}

group 'cn.bestwu.gradle'
version '0.0.2'

sourceCompatibility = 1.7
targetCompatibility = 1.7

[compileJava, javadoc, compileTestJava]*.options*.encoding = 'UTF-8'

dependencies {
    compile gradleApi()
    compile 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7'
    compile 'com.gradle.publish:plugin-publish-plugin:0.9.7'
    compile('org.jfrog.buildinfo:build-info-extractor-gradle:4.0.1') {
        exclude module: 'groovy-all'
    }

    testCompile 'junit:junit:4.2'
}

//发布到gradle plugins
gradlePlugin.plugins {
    publish {
        id = 'cn.bestwu.publish'
        implementationClass = 'cn.bestwu.gradle.publish.PublishPlugin'
    }
    pluginPublish {
        id = 'cn.bestwu.plugin-publish'
        implementationClass = 'cn.bestwu.gradle.publish.PluginPublishPlugin'
    }
}
pluginBundle.plugins {
    publish {
        id = 'cn.bestwu.publish'
        displayName = 'publish'
    }
    pluginPublish {
        id = 'cn.bestwu.plugin-publish'
        displayName = 'plugin-publish'
    }
}

